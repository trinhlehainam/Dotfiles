#!/bin/bash

# ══════════════════════════════════════════════════════════════════════════════
# Editor Aliases
# ══════════════════════════════════════════════════════════════════════════════
if command -v nvim &>/dev/null; then
	alias v='nvim'
	alias vim='nvim'
	alias vi='nvim'
fi

# ══════════════════════════════════════════════════════════════════════════════
# File Listing (eza/ls)
# ══════════════════════════════════════════════════════════════════════════════
if command -v eza &>/dev/null; then
	alias ls='eza --icons --group-directories-first'
	alias ll='eza -alF --icons --group-directories-first --git'
	alias la='eza -aF --icons --group-directories-first'
	alias l='eza -F --icons'
	alias lt='eza -alF --tree --level=2 --git --icons'
	alias llt='eza -l --sort=time --icons --group-directories-first'   # Sort by time
	alias lls='eza -l --sort=size --icons --group-directories-first'   # Sort by size
else
	alias ls='ls --color=auto --group-directories-first'
	alias ll='ls -alFh --color=auto'
	alias la='ls -aF --color=auto'
	alias l='ls -F --color=auto'
fi

# ══════════════════════════════════════════════════════════════════════════════
# Safer File Operations
# ══════════════════════════════════════════════════════════════════════════════
alias cp='cp -iv'        # Interactive, verbose
alias mv='mv -iv'        # Interactive, verbose
alias rm='rm -Iv'        # Interactive (prompt if >3 files), verbose
alias mkdir='mkdir -pv'  # Create parents, verbose

# ══════════════════════════════════════════════════════════════════════════════
# Directory Navigation
# ══════════════════════════════════════════════════════════════════════════════
alias ..='cd ..'
alias ...='cd ../..'
alias ....='cd ../../..'
alias .....='cd ../../../..'
alias -- -='cd -'  # Go to previous directory

# ══════════════════════════════════════════════════════════════════════════════
# Cat Replacement (bat)
# ══════════════════════════════════════════════════════════════════════════════
if command -v bat &>/dev/null; then
	alias cat='bat --paging=never'
	alias catp='bat'  # With paging
fi

# ══════════════════════════════════════════════════════════════════════════════
# Git Shortcuts
# ══════════════════════════════════════════════════════════════════════════════
if command -v git &>/dev/null; then
	alias g='git'
	alias gs='git status -sb'
	alias ga='git add'
	alias gaa='git add --all'
	alias gc='git commit'
	alias gcm='git commit -m'
	alias gp='git push'
	alias gl='git pull'
	alias gd='git diff'
	alias gds='git diff --staged'
	alias gco='git checkout'
	alias gb='git branch'
	alias glog='git log --oneline --graph --decorate -20'
	alias gloga='git log --oneline --graph --decorate --all -20'
fi

# ══════════════════════════════════════════════════════════════════════════════
# System Utilities
# ══════════════════════════════════════════════════════════════════════════════
alias df='df -h'                              # Human-readable sizes
alias du='du -h'                              # Human-readable sizes
alias free='free -h'                          # Human-readable sizes
alias path='echo -e ${PATH//:/\\n}'           # Print PATH entries on separate lines
alias ports='ss -tulanp'                      # Show open ports

# ══════════════════════════════════════════════════════════════════════════════
# WSL-specific Aliases
# ══════════════════════════════════════════════════════════════════════════════
if grep -qi microsoft /proc/version 2>/dev/null; then
	alias open='explorer.exe'
	alias pbcopy='clip.exe'
	alias pbpaste='powershell.exe -command "Get-Clipboard"'
fi
